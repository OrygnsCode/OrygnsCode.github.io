<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Distillation Column Simulator</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@
3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\(', '\)']],
                displayMath: [['$$', '$$'], ['\[', '\]']]
            }
        };
    </script>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>Professional Distillation Column Simulator</h1>
            <p class="subtitle">Advanced McCabe-Thiele Analysis Tool for Binary
Distillation Systems</p>
            <div class="version-info">v2.1 - Chemical Engineering Professional S
uite</div>
        </div>
    </header>

    <nav class="main-nav">
        <div class="nav-tabs">
            <button class="nav-tab active" data-tab="simulator">Simulator</butto
n>
            <button class="nav-tab" data-tab="theory">Theory</button>
            <button class="nav-tab" data-tab="data">Component Data</button>
        </div>
    </nav>

    <main class="app-container">
        <!-- Simulator Tab -->
        <div id="simulator-tab" class="tab-content active">
            <div class="simulator-layout">
                <!-- Left Control Panel -->
                <div class="control-panel">
                    <div class="panel-header">
                        <h2>Process Specifications</h2>
                        <div class="panel-controls">
                            <button id="resetBtn" class="control-btn secondary">
Reset</button>
                            <button id="optimizeBtn" class="control-btn primary"
>Optimize</button>
                        </div>
                    </div>

                    <!-- Feed Section -->
                    <div class="parameter-section">
                        <h3 class="section-title">
                            <span class="section-icon">üì•</span>
                            Feed Stream Properties
                        </h3>

                        <div class="parameter-group">
                            <div class="parameter-header">
                                <label class="parameter-label">Feed Composition<
/label>
                                <div class="math-notation">$x_F$ (mol fraction l
ight component)</div>
                            </div>
                            <div class="dual-input">
                                <input type="range" id="feedComposition" min="0.
1" max="0.9" step="0.001" value="0.5" class="slider">
                                <div class="input-container">
                                    <input type="number" id="feedCompositionInpu
t" min="0.1" max="0.9" step="0.001" value="0.5" class="numeric-input">
                                    <span class="input-unit">mol/mol</span>
                                </div>
                                <span class="value-display" id="feedCompositionV
alue">0.500</span>
                            </div>
                        </div>

                        <div class="parameter-group">
                            <div class="parameter-header">
                                <label class="parameter-label">Feed Thermal Cond
ition</label>
                                <div class="math-notation">$q$ (feed quality par
ameter)</div>
                            </div>
                            <div class="dual-input">
                                <input type="range" id="qValue" min="0" max="2"
step="0.01" value="1.0" class="slider">
                                <div class="input-container">
                                    <input type="number" id="qValueInput" min="0
" max="2" step="0.01" value="1.0" class="numeric-input">
                                    <span class="input-unit">‚Äî</span>
                                </div>
                                <span class="value-display" id="qValueValue">1.0
0</span>
                            </div>
                            <div class="parameter-info">
                                <span class="info-text">q = 0 (saturated vapor)
| q = 1 (saturated liquid) | q > 1 (subcooled liquid)</span>
                            </div>
                        </div>

                        <div class="parameter-group">
                            <div class="parameter-header">
                                <label class="parameter-label">Feed Flow Rate</l
abel>
                                <div class="math-notation">$F$ (kmol/h)</div>
                            </div>
                            <div class="dual-input">
                                <input type="range" id="feedFlowRate" min="100"
max="2000" step="10" value="1000" class="slider">
                                <div class="input-container">
                                    <input type="number" id="feedFlowRateInput"
min="100" max="2000" step="10" value="1000" class="numeric-input">
                                    <span class="input-unit">kmol/h</span>
                                </div>
                                <span class="value-display" id="feedFlowRateValu
e">1000</span>
                            </div>
                        </div>
                    </div>

                    <!-- Product Section -->
                    <div class="parameter-section">
                        <h3 class="section-title">
                            <span class="section-icon">üéØ</span>
                            Product Specifications
                        </h3>

                        <div class="parameter-group">
                            <div class="parameter-header">
                                <label class="parameter-label">Distillate Compos
ition</label>
                                <div class="math-notation">$x_D$ (mol fraction l
ight component)</div>
                            </div>
                            <div class="dual-input">
                                <input type="range" id="distillateComposition" m
in="0.7" max="0.999" step="0.001" value="0.9" class="slider">
                                <div class="input-container">
                                    <input type="number" id="distillateCompositi
onInput" min="0.7" max="0.999" step="0.001" value="0.9" class="numeric-input">
                                    <span class="input-unit">mol/mol</span>
                                </div>
                                <span class="value-display" id="distillateCompos
itionValue">0.900</span>
                            </div>
                        </div>

                        <div class="parameter-group">
                            <div class="parameter-header">
                                <label class="parameter-label">Bottoms Compositi
on</label>
                                <div class="math-notation">$x_B$ (mol fraction l
ight component)</div>
                            </div>
                            <div class="dual-input">
                                <input type="range" id="bottomsComposition" min=
"0.001" max="0.3" step="0.001" value="0.1" class="slider">
                                <div class="input-container">
                                    <input type="number" id="bottomsCompositionI
nput" min="0.001" max="0.3" step="0.001" value="0.1" class="numeric-input">
                                    <span class="input-unit">mol/mol</span>
                                </div>
                                <span class="value-display" id="bottomsCompositi
onValue">0.100</span>
                            </div>
                        </div>
                    </div>

                    <!-- Operating Conditions Section -->
                    <div class="parameter-section">
                        <h3 class="section-title">
                            <span class="section-icon">‚öôÔ∏è</span>
                            Operating Conditions
                        </h3>

                        <div class="parameter-group">
                            <div class="parameter-header">
                                <label class="parameter-label">Reflux Ratio</lab
el>
                                <div class="math-notation">$R = L/D$ (dimensionl
ess)</div>
                            </div>
                            <div class="dual-input">
                                <input type="range" id="refluxRatio" min="1.1" m
ax="15" step="0.01" value="2.0" class="slider">
                                <div class="input-container">
                                    <input type="number" id="refluxRatioInput" m
in="1.1" max="15" step="0.01" value="2.0" class="numeric-input">
                                    <span class="input-unit">‚Äî</span>
                                </div>
                                <span class="value-display" id="refluxRatioValue
">2.00</span>
                            </div>
                        </div>

                        <div class="parameter-group">
                            <div class="parameter-header">
                                <label class="parameter-label">Relative Volatili
ty</label>
                                <div class="math-notation">$lpha_{AB} = rac{
K_A}{K_B}$ (dimensionless)</div>
                            </div>
                            <div class="dual-input">
                                <input type="range" id="relativeVolatility" min=
"1.2" max="8" step="0.01" value="2.5" class="slider">
                                <div class="input-container">
                                    <input type="number" id="relativeVolatilityI
nput" min="1.2" max="8" step="0.01" value="2.5" class="numeric-input">
                                    <span class="input-unit">‚Äî</span>
                                </div>
                                <span class="value-display" id="relativeVolatili
tyValue">2.50</span>
                            </div>
                        </div>

                        <div class="parameter-group">
                            <div class="parameter-header">
                                <label class="parameter-label">Column Pressure</
label>
                                <div class="math-notation">$P$ (bar)</div>
                            </div>
                            <div class="dual-input">
                                <input type="range" id="columnPressure" min="1"
max="10" step="0.1" value="1.0" class="slider">
                                <div class="input-container">
                                    <input type="number" id="columnPressureInput
" min="1" max="10" step="0.1" value="1.0" class="numeric-input">
                                    <span class="input-unit">bar</span>
                                </div>
                                <span class="value-display" id="columnPressureVa
lue">1.0</span>
                            </div>
                        </div>
                    </div>

                    <!-- Results Section -->
                    <div class="results-section">
                        <div class="results-header">
                            <h3>Calculated Results</h3>
                            <button id="exportResultsBtn" class="control-btn sec
ondary small">Export Data</button>
                        </div>

                        <div class="results-grid">
                            <div class="result-card">
                                <div class="result-label">Minimum Reflux Ratio</
div>
                                <div class="result-math">$R_{min}$</div>
                                <div class="result-value" id="minRefluxRatio">
‚Äî</div>
                                <div class="result-unit">dimensionless</div>
                            </div>

                            <div class="result-card">
                                <div class="result-label">Theoretical Plates</di
v>
                                <div class="result-math">$N_T$</div>
                                <div class="result-value" id="theoreticalPlates"
>‚Äî</div>
                                <div class="result-unit">stages</div>
                            </div>

                            <div class="result-card">
                                <div class="result-label">Feed Plate Location</d
iv>
                                <div class="result-math">$N_F$</div>
                                <div class="result-value" id="feedPlateLocation"
>‚Äî</div>
                                <div class="result-unit">from top</div>
                            </div>

                            <div class="result-card">
                                <div class="result-label">Column Efficiency</div
>
                                <div class="result-math">$\eta_{col}$</div>
                                <div class="result-value" id="columnEfficiency">
‚Äî</div>
                                <div class="result-unit">%</div>
                            </div>

                            <div class="result-card">
                                <div class="result-label">Condenser Duty</div>
                                <div class="result-math">$Q_C$</div>
                                <div class="result-value" id="condenserDuty">‚Äî</
div>
                                <div class="result-unit">kW</div>
                            </div>

                            <div class="result-card">
                                <div class="result-label">Reboiler Duty</div>
                                <div class="result-math">$Q_R$</div>
                                <div class="result-value" id="reboilerDuty">‚Äî</d
iv>
                                <div class="result-unit">kW</div>
                            </div>
                        </div>
                    </div>

                    <!-- Export Controls -->
                    <div class="export-section">
                        <h3>Export Options</h3>
                        <div class="export-controls">
                            <button id="exportSVG" class="export-btn">
                                <span class="btn-icon">üìä</span>
                                Export SVG
                            </button>
                            <button id="exportPNG" class="export-btn">
                                <span class="btn-icon">üñºÔ∏è</span>
                                Export PNG
                            </button>
                            <button id="exportPDF" class="export-btn">
                                <span class="btn-icon">üìÑ</span>
                                Export PDF
                            </button>
                            <button id="exportCSV" class="export-btn">
                                <span class="btn-icon">üìã</span>
                                Export Data
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Right Visualization Panel -->
                <div class="visualization-panel">
                    <div class="diagram-header">
                        <h2>McCabe-Thiele Diagram</h2>
                        <div class="diagram-controls">
                            <button id="zoomReset" class="control-btn secondary
small">Reset Zoom</button>
                            <button id="toggleGrid" class="control-btn secondary
 small">Toggle Grid</button>
                            <button id="toggleAnimation" class="control-btn seco
ndary small">Animation</button>
                        </div>
                    </div>

                    <div class="diagram-container">
                        <div id="mcCabeThieleDiagram"></div>
                        <div class="diagram-overlay">
                            <div class="plate-counter">
                                <span>Plate: <span id="currentPlate">‚Äî</span></s
pan>
                            </div>
                        </div>
                    </div>

                    <div class="legend-container">
                        <div class="legend-section">
                            <h4>Curves & Lines</h4>
                            <div class="legend-grid">
                                <div class="legend-item">
                                    <div class="legend-color equilibrium-curve">
</div>
                                    <span>Equilibrium Curve (VLE)</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color rectifying-line"></
div>
                                    <span>Rectifying Operating Line</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color stripping-line"></d
iv>
                                    <span>Stripping Operating Line</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color q-line"></div>
                                    <span>q-Line (Feed Line)</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color theoretical-plates"
></div>
                                    <span>Theoretical Plates</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color diagonal-line"></di
v>
                                    <span>45¬∞ Line (y = x)</span>
                                </div>
                            </div>
                        </div>

                        <div class="legend-section">
                            <h4>Key Points</h4>
                            <div class="legend-grid">
                                <div class="legend-item">
                                    <div class="legend-point feed-point"></div>
                                    <span>Feed Point</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-point distillate-point"><
/div>
                                    <span>Distillate Point</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-point bottoms-point"></di
v>
                                    <span>Bottoms Point</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-point intersection-point"
></div>
                                    <span>Operating Line Intersection</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Theory Tab -->
        <div id="theory-tab" class="tab-content">
            <div class="theory-content">
                <h2>McCabe-Thiele Method Theory</h2>

                <div class="theory-section">
                    <h3>Fundamental Equations</h3>
                    <div class="equation-block">
                        <h4>Equilibrium Relationship</h4>
                        <div class="equation">$$y^* = rac{lpha x}{1 + (lph
a - 1)x}$$</div>
                        <p>Where $lpha$ is the relative volatility of the ligh
t component.</p>
                    </div>

                    <div class="equation-block">
                        <h4>Rectifying Operating Line</h4>
                        <div class="equation">$$y = rac{R}{R+1}x + rac{x_D}{
R+1}$$</div>
                        <p>Operating line equation for the rectifying section.</
p>
                    </div>

                    <div class="equation-block">
                        <h4>Stripping Operating Line</h4>
                        <div class="equation">$$y = rac{L'}{V'}x - rac{L'x_B
}{V'}$$</div>
                        <p>Operating line equation for the stripping section.</p
>
                    </div>
                </div>
            </div>
        </div>

        <!-- Component Data Tab -->
        <div id="data-tab" class="tab-content">
            <div class="data-content">
                <h2>Component Database</h2>
                <div class="component-selector">
                    <label for="componentPair">Select Component Pair:</label>
                    <select id="componentPair">
                        <option value="custom">Custom System</option>
                        <option value="ethanol-water">Ethanol-Water</option>
                        <option value="benzene-toluene">Benzene-Toluene</option>
                        <option value="acetone-water">Acetone-Water</option>
                        <option value="methanol-water">Methanol-Water</option>
                    </select>
                </div>

                <div class="component-properties">
                    <h3>System Properties</h3>
                    <div class="properties-grid">
                        <div class="property-item">
                            <span class="property-label">Light Component:</span>
                            <span class="property-value" id="lightComponent">‚Äî</
span>
                        </div>
                        <div class="property-item">
                            <span class="property-label">Heavy Component:</span>
                            <span class="property-value" id="heavyComponent">‚Äî</
span>
                        </div>
                        <div class="property-item">
                            <span class="property-label">Typical Œ± @ 1 atm:</spa
n>
                            <span class="property-value" id="typicalAlpha">‚Äî</sp
an>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <p>&copy; 2025 Professional Chemical Engineering Suite - Advanced Di
stillation Analysis Tool</p>
            <div class="footer-links">
                <a href="#" id="aboutBtn">About</a>
                <a href="#" id="contactBtn">Contact</a>
                <a href="#" id="helpBtn">Help</a>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
