<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orygns Client Portal - Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="enhanced-styles.css">
    <style>
        .admin-metric {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%);
            border: 1px solid var(--border);
            border-radius: var(--radius-xl);
            padding: var(--space-xl);
            box-shadow: var(--shadow-lg);
            transition: all var(--transition-normal);
            position: relative;
            overflow: hidden;
        }
        
        .admin-metric::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, var(--accent) 0%, transparent 70%);
            opacity: 0;
            transition: opacity var(--transition-slow);
            pointer-events: none;
        }
        
        .admin-metric:hover::before {
            opacity: 0.1;
        }
        
        .admin-metric:hover {
            transform: translateY(-6px) scale(1.02);
            box-shadow: var(--shadow-xl);
        }
        
        .client-row {
            transition: all var(--transition-fast);
        }
        
        .client-row:hover {
            background: var(--bg-tertiary);
            transform: translateX(4px);
        }
        
        .ticket-priority-high {
            border-left: 4px solid var(--error);
            background: rgba(239, 68, 68, 0.1);
        }
        
        .ticket-priority-medium {
            border-left: 4px solid var(--warning);
            background: rgba(245, 158, 11, 0.1);
        }
        
        .ticket-priority-low {
            border-left: 4px solid var(--info);
            background: rgba(59, 130, 246, 0.1);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Navigation -->
    <nav class="nav-enhanced fixed w-full top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <h1 class="text-xl font-bold gradient-text-primary">Orygns Portal</h1>
                    </div>
                    <div class="hidden md:block ml-10">
                        <div class="flex items-baseline space-x-4">
                            <a href="index.html" class="nav-link-enhanced">Dashboard</a>
                            <a href="admin-new.html" class="nav-link-enhanced active">Admin</a>
                            <a href="invoices.html" class="nav-link-enhanced">Invoices</a>
                            <a href="support.html" class="nav-link-enhanced">Support</a>
                        </div>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="themeToggle" class="theme-toggle" title="Toggle theme">
                        <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
                        </svg>
                    </button>
                    <button class="relative p-2 rounded-full hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5-5-5h5v-12"/>
                        </svg>
                        <span class="notification-badge absolute top-0 right-0 block h-2 w-2 rounded-full ring-2 ring-white bg-red-400"></span>
                    </button>
                    <div class="relative">
                        <button class="flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white">
                            <img class="h-8 w-8 rounded-full" src="resources/business-team.jpg" alt="Admin avatar">
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-16 pb-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <!-- Admin Welcome -->
            <div class="mb-8">
                <h1 class="text-3xl font-bold text-white mb-2">Admin Dashboard</h1>
                <p class="text-gray-300">Comprehensive management and analytics for your business operations.</p>
            </div>

            <!-- Admin Metrics -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="admin-metric card-hover">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-400 mb-1">Total Clients</p>
                            <p class="text-2xl font-bold text-white" id="totalClients">247</p>
                            <p class="text-xs text-green-400 mt-1">+12 this month</p>
                        </div>
                        <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center">
                            <svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"/>
                            </svg>
                        </div>
                    </div>
                </div>

                <div class="admin-metric card-hover">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-400 mb-1">Monthly Revenue</p>
                            <p class="text-2xl font-bold text-white" id="monthlyRevenue">$184,532</p>
                            <p class="text-xs text-green-400 mt-1">+17.6% growth</p>
                        </div>
                        <div class="w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center">
                            <svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"/>
                            </svg>
                        </div>
                    </div>
                </div>

                <div class="admin-metric card-hover">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-400 mb-1">Open Tickets</p>
                            <p class="text-2xl font-bold text-white" id="openTickets">18</p>
                            <p class="text-xs text-yellow-400 mt-1">5 high priority</p>
                        </div>
                        <div class="w-12 h-12 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center">
                            <svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                            </svg>
                        </div>
                    </div>
                </div>

                <div class="admin-metric card-hover">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-400 mb-1">Server Uptime</p>
                            <p class="text-2xl font-bold text-white" id="serverUptime">99.8%</p>
                            <p class="text-xs text-green-400 mt-1">Excellent performance</p>
                        </div>
                        <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center">
                            <svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Admin Content -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Client Management -->
                <div class="lg:col-span-2">
                    <div class="card-enhanced">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-xl font-semibold text-white">Client Management</h3>
                            <button onclick="openClientModal()" class="btn-enhanced">
                                <svg class="w-5 h-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                                </svg>
                                Add Client
                            </button>
                        </div>
                        
                        <!-- Search and Filter -->
                        <div class="flex flex-col lg:flex-row lg:items-center gap-4 mb-6">
                            <div class="flex-1">
                                <input type="text" placeholder="Search clients..." class="form-input-enhanced" id="clientSearch">
                            </div>
                            <select class="form-input-enhanced lg:w-48" id="statusFilter">
                                <option value="">All Status</option>
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                                <option value="pending">Pending</option>
                            </select>
                        </div>
                        
                        <!-- Client Table -->
                        <div class="overflow-x-auto">
                            <table class="min-w-full">
                                <thead>
                                    <tr class="border-b border-gray-700">
                                        <th class="text-left py-3 px-4 text-sm font-medium text-gray-300">Client</th>
                                        <th class="text-left py-3 px-4 text-sm font-medium text-gray-300">Status</th>
                                        <th class="text-left py-3 px-4 text-sm font-medium text-gray-300">Revenue</th>
                                        <th class="text-left py-3 px-4 text-sm font-medium text-gray-300">Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="client-row border-b border-gray-800">
                                        <td class="py-4 px-4">
                                            <div class="flex items-center">
                                                <img class="h-10 w-10 rounded-full" src="resources/business-team.jpg" alt="Client">
                                                <div class="ml-3">
                                                    <div class="text-sm font-medium text-white">Acme Corp</div>
                                                    <div class="text-xs text-gray-400">john@acme.com</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="py-4 px-4">
                                            <span class="badge badge-success">Active</span>
                                        </td>
                                        <td class="py-4 px-4 text-sm text-white font-medium">$12,847</td>
                                        <td class="py-4 px-4">
                                            <div class="flex space-x-2">
                                                <button onclick="editClient('acme')" class="text-blue-400 hover:text-blue-300 text-sm">Edit</button>
                                                <button onclick="deleteClient('acme')" class="text-red-400 hover:text-red-300 text-sm">Delete</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="client-row border-b border-gray-800">
                                        <td class="py-4 px-4">
                                            <div class="flex items-center">
                                                <img class="h-10 w-10 rounded-full" src="resources/business-team.jpg" alt="Client">
                                                <div class="ml-3">
                                                    <div class="text-sm font-medium text-white">TechStart Inc</div>
                                                    <div class="text-xs text-gray-400">sarah@techstart.com</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="py-4 px-4">
                                            <span class="badge badge-info">Pending</span>
                                        </td>
                                        <td class="py-4 px-4 text-sm text-white font-medium">$8,432</td>
                                        <td class="py-4 px-4">
                                            <div class="flex space-x-2">
                                                <button onclick="editClient('techstart')" class="text-blue-400 hover:text-blue-300 text-sm">Edit</button>
                                                <button onclick="deleteClient('techstart')" class="text-red-400 hover:text-red-300 text-sm">Delete</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="client-row border-b border-gray-800">
                                        <td class="py-4 px-4">
                                            <div class="flex items-center">
                                                <img class="h-10 w-10 rounded-full" src="resources/business-team.jpg" alt="Client">
                                                <div class="ml-3">
                                                    <div class="text-sm font-medium text-white">Global Solutions</div>
                                                    <div class="text-xs text-gray-400">mike@global.com</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="py-4 px-4">
                                            <span class="badge badge-error">Inactive</span>
                                        </td>
                                        <td class="py-4 px-4 text-sm text-white font-medium">$0</td>
                                        <td class="py-4 px-4">
                                            <div class="flex space-x-2">
                                                <button onclick="editClient('global')" class="text-blue-400 hover:text-blue-300 text-sm">Edit</button>
                                                <button onclick="deleteClient('global')" class="text-red-400 hover:text-red-300 text-sm">Delete</button>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Support Ticket Queue -->
                <div class="card-enhanced">
                    <h3 class="text-xl font-semibold text-white mb-6">Support Tickets</h3>
                    <div class="space-y-4">
                        <div class="ticket-priority-high p-4 rounded-lg">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="text-sm font-medium text-white">Server Down - Urgent</h4>
                                <span class="badge badge-error text-xs">High</span>
                            </div>
                            <p class="text-xs text-gray-400 mb-3">Acme Corp • 15 min ago</p>
                            <div class="flex space-x-2">
                                <button onclick="assignTicket('server-down')" class="text-xs text-blue-400 hover:text-blue-300">Assign</button>
                                <button class="text-xs text-gray-400 hover:text-gray-300">View</button>
                            </div>
                        </div>
                        
                        <div class="ticket-priority-medium p-4 rounded-lg">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="text-sm font-medium text-white">Billing Question</h4>
                                <span class="badge badge-warning text-xs">Medium</span>
                            </div>
                            <p class="text-xs text-gray-400 mb-3">TechStart Inc • 1 hour ago</p>
                            <div class="flex space-x-2">
                                <button onclick="assignTicket('billing')" class="text-xs text-blue-400 hover:text-blue-300">Assign</button>
                                <button class="text-xs text-gray-400 hover:text-gray-300">View</button>
                            </div>
                        </div>
                        
                        <div class="ticket-priority-low p-4 rounded-lg">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="text-sm font-medium text-white">Feature Request</h4>
                                <span class="badge badge-info text-xs">Low</span>
                            </div>
                            <p class="text-xs text-gray-400 mb-3">Global Solutions • 3 hours ago</p>
                            <div class="flex space-x-2">
                                <button onclick="assignTicket('feature')" class="text-xs text-blue-400 hover:text-blue-300">Assign</button>
                                <button class="text-xs text-gray-400 hover:text-gray-300">View</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-6 pt-6 border-t border-gray-700">
                        <button onclick="window.location.href='support.html'" class="w-full text-center text-blue-400 hover:text-blue-300 text-sm font-medium">
                            View All Tickets →
                        </button>
                    </div>
                </div>
            </div>

            <!-- Analytics Section -->
            <div class="mt-8 grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Revenue Chart -->
                <div class="chart-wrapper">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-xl font-semibold text-white">Revenue Analytics</h3>
                        <select class="form-input-enhanced text-sm w-32">
                            <option>Last 6 Months</option>
                            <option>Last Year</option>
                            <option>Last 2 Years</option>
                        </select>
                    </div>
                    <div id="revenueChart" class="chart-container"></div>
                </div>

                <!-- System Performance -->
                <div class="card-enhanced">
                    <h3 class="text-xl font-semibold text-white mb-6">System Performance</h3>
                    <div class="space-y-6">
                        <div>
                            <div class="flex justify-between text-sm mb-2">
                                <span class="text-gray-400">CPU Usage</span>
                                <span class="text-white">67%</span>
                            </div>
                            <div class="w-full bg-gray-700 rounded-full h-2">
                                <div class="bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full" style="width: 67%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-sm mb-2">
                                <span class="text-gray-400">Memory Usage</span>
                                <span class="text-white">45%</span>
                            </div>
                            <div class="w-full bg-gray-700 rounded-full h-2">
                                <div class="bg-gradient-to-r from-green-500 to-green-600 h-2 rounded-full" style="width: 45%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-sm mb-2">
                                <span class="text-gray-400">Storage Usage</span>
                                <span class="text-white">78%</span>
                            </div>
                            <div class="w-full bg-gray-700 rounded-full h-2">
                                <div class="bg-gradient-to-r from-yellow-500 to-yellow-600 h-2 rounded-full" style="width: 78%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-sm mb-2">
                                <span class="text-gray-400">Network Load</span>
                                <span class="text-white">23%</span>
                            </div>
                            <div class="w-full bg-gray-700 rounded-full h-2">
                                <div class="bg-gradient-to-r from-purple-500 to-purple-600 h-2 rounded-full" style="width: 23%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-6 pt-6 border-t border-gray-700">
                        <button class="text-blue-400 hover:text-blue-300 text-sm font-medium">View Detailed Analytics →</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Client Modal -->
    <div id="clientModal" class="fixed inset-0 modal-backdrop hidden z-50">
        <div class="flex items-center justify-center min-h-screen px-4">
            <div class="modal-content max-w-2xl w-full p-8">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-2xl font-bold text-white">Add New Client</h3>
                    <button onclick="closeClientModal()" class="text-gray-400 hover:text-white transition-colors">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                        </svg>
                    </button>
                </div>
                <form onsubmit="submitClientForm(event)">
                    <div class="space-y-6">
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Company Name</label>
                                <input type="text" class="form-input-enhanced" placeholder="Enter company name" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Contact Email</label>
                                <input type="email" class="form-input-enhanced" placeholder="contact@company.com" required>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Phone</label>
                                <input type="tel" class="form-input-enhanced" placeholder="+1 (555) 123-4567">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Plan</label>
                                <select class="form-input-enhanced" required>
                                    <option value="">Select plan</option>
                                    <option value="basic">Basic</option>
                                    <option value="professional">Professional</option>
                                    <option value="enterprise">Enterprise</option>
                                </select>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Address</label>
                            <textarea rows="3" class="form-input-enhanced" placeholder="Company address..."></textarea>
                        </div>
                        <div class="flex justify-end space-x-4">
                            <button type="button" onclick="closeClientModal()" class="btn-enhanced btn-secondary px-6 py-3">Cancel</button>
                            <button type="submit" class="btn-enhanced px-6 py-3">Add Client</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="enhanced-main.js"></script>
    <script>
        // Admin-specific JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            initializeAdminCharts();
            animateAdminMetrics();
        });

        function initializeAdminCharts() {
            const chartElement = document.getElementById('revenueChart');
            if (!chartElement) return;

            const chart = echarts.init(chartElement);
            
            const isDark = window.enhancedApp && window.enhancedApp.currentTheme === 'dark';
            const textColor = isDark ? '#FFFFFF' : '#374151';
            const gridColor = isDark ? '#2A2F3E' : '#E5E7EB';

            const option = {
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: isDark ? 'rgba(26, 31, 46, 0.95)' : 'rgba(255, 255, 255, 0.95)',
                    borderColor: isDark ? '#2A2F3E' : '#00D4FF',
                    textStyle: { color: textColor }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    axisLine: { lineStyle: { color: gridColor } },
                    axisLabel: { color: textColor }
                },
                yAxis: {
                    type: 'value',
                    axisLine: { show: false },
                    axisLabel: { color: textColor },
                    splitLine: { lineStyle: { color: gridColor } }
                },
                series: [{
                    name: 'Revenue ($)',
                    type: 'bar',
                    data: [145000, 162000, 158000, 184000, 176000, 184532],
                    itemStyle: { color: '#00D4FF' },
                    emphasis: {
                        itemStyle: { color: '#0F1419' }
                    }
                }],
                animation: true,
                animationDuration: 1500,
                animationEasing: 'cubicOut'
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        function animateAdminMetrics() {
            const metrics = [
                { id: 'totalClients', target: 247 },
                { id: 'monthlyRevenue', target: 184532, prefix: '$' },
                { id: 'openTickets', target: 18 },
                { id: 'serverUptime', target: 99.8, suffix: '%' }
            ];

            metrics.forEach(metric => {
                const element = document.getElementById(metric.id);
                if (element) {
                    const animation = anime({
                        targets: { value: 0 },
                        value: metric.target,
                        duration: 2000,
                        easing: 'easeOutExpo',
                        update: function(anim) {
                            const value = anim.animatables[0].target.value;
                            const formattedValue = metric.id === 'monthlyRevenue'
                                ? Math.floor(value).toLocaleString()
                                : metric.id === 'serverUptime'
                                ? value.toFixed(1)
                                : Math.floor(value);
                            element.textContent = (metric.prefix || '') + formattedValue + (metric.suffix || '');
                        }
                    });
                    
                    if (window.enhancedApp) {
                        window.enhancedApp.animations.push(animation);
                    }
                }
            });
        }

        function openClientModal() {
            const modal = document.getElementById('clientModal');
            if (modal) {
                modal.classList.remove('hidden');
                anime({
                    targets: modal.querySelector('.modal-content'),
                    scale: [0.8, 1],
                    opacity: [0, 1],
                    duration: 300,
                    easing: 'easeOutExpo'
                });
            }
        }

        function closeClientModal() {
            const modal = document.getElementById('clientModal');
            if (modal) {
                anime({
                    targets: modal.querySelector('.modal-content'),
                    scale: [1, 0.8],
                    opacity: [1, 0],
                    duration: 200,
                    easing: 'easeInExpo',
                    complete: () => {
                        modal.classList.add('hidden');
                    }
                });
            }
        }

        function submitClientForm(event) {
            event.preventDefault();
            
            const submitBtn = event.target.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Adding...';
            submitBtn.disabled = true;
            
            setTimeout(() => {
                closeClientModal();
                if (window.enhancedApp) {
                    window.enhancedApp.showToast('Client added successfully!', 'success');
                }
                event.target.reset();
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }, 1500);
        }

        function editClient(clientId) {
            if (window.enhancedApp) {
                window.enhancedApp.showToast(`Editing client: ${clientId}`, 'info');
            }
        }

        function deleteClient(clientId) {
            if (confirm('Are you sure you want to delete this client?')) {
                if (window.enhancedApp) {
                    window.enhancedApp.showToast(`Client ${clientId} deleted`, 'success');
                }
            }
        }

        function assignTicket(ticketId) {
            if (window.enhancedApp) {
                window.enhancedApp.showToast(`Ticket assigned to support team`, 'success');
            }
        }
    </script>
</body>
</html>